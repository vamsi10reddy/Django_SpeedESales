{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Speed-E-Sales</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/icon.png' %}"/>
    <!-- Halfmoon CSS -->
    <link href="https://cdn.jsdelivr.net/npm/halfmoon@2.0.2/css/halfmoon.min.css" rel="stylesheet" integrity="sha256-RjeFzczeuZHCyS+Gvz+kleETzBF/o84ZRHukze/yv6o=" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
</head>
<!-- Set the background image -->
<style>
    body {
      background-image: url("{% static 'images/banner_cart.jpg' %}");
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
    }
</style>
<body class="d-flex flex-column min-vh-100">
    <!-- Bootstrap JS bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha256-CDOy6cOibCWEdsRiZuaHf8dSGGJRYuBGC+mjoJimHGw=" crossorigin="anonymous"></script>
    <!-- Custom JS page -->
    <script type = "text/javascript" src="{% static 'scripts/functions.js' %}"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    
    <!--Navbar-->
    {% include 'components/navbar.html'%}

    <!-- Message Wrapper -->
    <div class="message-wrapper">
        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}" style="position: fixed; bottom: 30px; right: 20px; z-index: 10;">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
    
    <!--Unique Page HTML-->
    <main class="container-fluid flex-grow-1 p-2 bg-black bg-opacity-50">
    {% block content %}
    {% endblock %}
    </main>

    
    <!--Website Footer-->
    {% include 'components/footer.html'%}

</body>

    <!-- Auto-collapse of messages -->
    <script>
        setTimeout(() => {
            const messageWrapper = document.querySelector('.message-wrapper');
            const messages = document.querySelectorAll('.messages .alert');
            messages.forEach((message) => {
                message.style.transition = "opacity 1s";
                message.style.opacity = "0";
                setTimeout(() => message.remove(), 1000);
            });
            setTimeout(() => messageWrapper.classList.add('empty'), 1000);
        }, 5000);
    </script>
</html>